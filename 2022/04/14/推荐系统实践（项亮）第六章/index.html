

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="第六章 利用社交网络数据基于社交网络的推荐可以很好的模拟现实社会。本章讨论如何利用社交网络数据给用户进行个性化推荐，一方面是给用户推荐物品，另一方面是给用户推荐好友。 6.1 获取社交网络数据的途径互联网有很多带有社交性质的网站，如下： 6.1.1 电子邮件电子邮件是一个比较封闭的系统，一般很难获得用户的联系人列表和用户之间的来往信件。因此对电子邮件中社交关系的研究集中在一些有大型电子邮件系统的公">
<meta property="og:type" content="article">
<meta property="og:title" content="推荐系统（项亮）第六章">
<meta property="og:url" content="http://example.com/2022/04/14/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B5%EF%BC%88%E9%A1%B9%E4%BA%AE%EF%BC%89%E7%AC%AC%E5%85%AD%E7%AB%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="第六章 利用社交网络数据基于社交网络的推荐可以很好的模拟现实社会。本章讨论如何利用社交网络数据给用户进行个性化推荐，一方面是给用户推荐物品，另一方面是给用户推荐好友。 6.1 获取社交网络数据的途径互联网有很多带有社交性质的网站，如下： 6.1.1 电子邮件电子邮件是一个比较封闭的系统，一般很难获得用户的联系人列表和用户之间的来往信件。因此对电子邮件中社交关系的研究集中在一些有大型电子邮件系统的公">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hicgoal-img.oss-cn-beijing.aliyuncs.com/img/image-20220414120300960.png">
<meta property="og:image" content="https://hicgoal-img.oss-cn-beijing.aliyuncs.com/img/image-20220414120312949.png">
<meta property="article:published_time" content="2022-04-14T02:02:45.000Z">
<meta property="article:modified_time" content="2022-04-15T03:14:55.805Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="推荐系统">
<meta property="article:tag" content="读书笔记">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://hicgoal-img.oss-cn-beijing.aliyuncs.com/img/image-20220414120300960.png">
  
  
  <title>推荐系统（项亮）第六章 - Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="推荐系统（项亮）第六章">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-04-14 10:02" pubdate>
        2022年4月14日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7.1k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      60 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">推荐系统（项亮）第六章</h1>
            
            <div class="markdown-body">
              <h1 id="第六章-利用社交网络数据"><a href="#第六章-利用社交网络数据" class="headerlink" title="第六章 利用社交网络数据"></a>第六章 利用社交网络数据</h1><p>基于社交网络的推荐可以很好的模拟现实社会。本章讨论如何利用社交网络数据给用户进行个性化推荐，一方面是给用户推荐物品，另一方面是给用户推荐好友。</p>
<h2 id="6-1-获取社交网络数据的途径"><a href="#6-1-获取社交网络数据的途径" class="headerlink" title="6.1 获取社交网络数据的途径"></a>6.1 获取社交网络数据的途径</h2><p>互联网有很多带有社交性质的网站，如下：</p>
<h3 id="6-1-1-电子邮件"><a href="#6-1-1-电子邮件" class="headerlink" title="6.1.1 电子邮件"></a>6.1.1 电子邮件</h3><p>电子邮件是一个比较封闭的系统，一般很难获得用户的联系人列表和用户之间的来往信件。因此对电子邮件中社交关系的研究集中在一些有大型电子邮件系统的公司。如果获得了用户的邮箱，可以通过邮箱后缀得到一定的社交关系，例如同一个公司等等，这是一种隐性的社交关系。</p>
<p>由于电子邮件系统包含了大量社交信息，很多社交网站在用户注册时提供了让用户从电子邮件联系人中导入好友关系的功能，以解决社交网络的冷启动问题。</p>
<h3 id="6-1-2-用户注册信息"><a href="#6-1-2-用户注册信息" class="headerlink" title="6.1.2 用户注册信息"></a>6.1.2 用户注册信息</h3><p>通过用户注册时的信息，可以知道哪些用户在一个机构共事过，这也是一种隐性的社交网络数据。</p>
<h3 id="6-1-3-用户的位置数据"><a href="#6-1-3-用户的位置数据" class="headerlink" title="6.1.3 用户的位置数据"></a>6.1.3 用户的位置数据</h3><p>通过IP和GPS等，可以知道用户访问时的地址，这种地址可能只是精确到城市，但有时可以精确到楼栋，公司等。显然可以假设他们可能有好友关系。</p>
<h3 id="6-1-4-论坛和讨论组"><a href="#6-1-4-论坛和讨论组" class="headerlink" title="6.1.4 论坛和讨论组"></a>6.1.4 论坛和讨论组</h3><p>如果两个用户同时加入了很多不同的小组，可以假设他们互相了解或者具有相似的兴趣，如果两个用户在讨论组就某个帖子共同讨论，就更可以这样认为。</p>
<h3 id="6-1-5-即时聊天工具"><a href="#6-1-5-即时聊天工具" class="headerlink" title="6.1.5 即时聊天工具"></a>6.1.5 即时聊天工具</h3><p>在即时聊天工具中，用户往往会有一个联系人列表，并且会对其进行分组，通过列表和分组信息，就可以知道用户的社交网络关系，通过统计用户之间聊天的频繁程度，可以度量他们之间的熟悉程度。当然，这也有很多隐私问题，几乎没有人会公开自己的联系人列表和聊天记录。</p>
<h3 id="6-1-6-社交网站"><a href="#6-1-6-社交网站" class="headerlink" title="6.1.6 社交网站"></a>6.1.6 社交网站</h3><p>上面介绍的各种途径，要么难以获取，要么是隐性的，很难推断出用户之间的显性社交关系。实际上，无论是电子邮件系统还是即时聊天工具，都比较封闭。</p>
<p>Facebook、Twitter等社交网站的出现突破瓶颈，它允许用户设置一个公开的页面，默认公开用户的好友列表，讨论的话题也较少涉及个人隐私，大都是社会热点、图片、笑话等等。社交网站的另一个好处是自然的减轻了信息过载的问题。比如只阅读关注的人，个性化推荐系统可以利用社交网站公开的用户社交网络和行为数据，辅助用户更好的完成信息过滤，寻找和自己兴趣相似的好友，找到自己感兴趣的内容等等。</p>
<h4 id="社会图谱和兴趣图谱"><a href="#社会图谱和兴趣图谱" class="headerlink" title="社会图谱和兴趣图谱"></a>社会图谱和兴趣图谱</h4><p>Facebook、Twitter代表了不同的社交网络结构，前者人们的好友一般都是自己在现实中认识的人，并且好友关系需要双方确认，后者人们的好友往往在现实中没有交集，只是因为三观符合，好友关系也是单向的。人们将Facebook为代表的社交网络称为<strong>社交图谱（social graph）</strong>，另一个则叫做<strong>兴趣图谱（interest graph）</strong>。</p>
<p>当然每个社会化网站都不是单纯的社交&#x2F;兴趣图谱。</p>
<h2 id="6-2-社交网络数据简介"><a href="#6-2-社交网络数据简介" class="headerlink" title="6.2 社交网络数据简介"></a>6.2 社交网络数据简介</h2><p>可以用图$G(V,E,w)$定义一个社交网络，$V$是顶点集合，每个顶点代表一个用户，$E$是边集合，对于需要双向确认的关系，可以使用无向边连接，单向的朋友关系则采用有向边。对于用户顶点$u$,$out(u)$为其指向的定点集合（e.g., 用户$u$关注的用户集合），$in(u)$为指向顶点$u$的集合（关注用户$u$的用户集合）。对于Facebook这种无向社交网络，显然有$in(u)&#x3D;out(u)$。</p>
<p>一般来说，有三种不同的社交网络数据：</p>
<ul>
<li>双向确认的社交网络数据</li>
<li>单项关注的社交网络数据</li>
<li>基于社区的社交网络数据：用户之间并无明确关系，但可能属于不同的社区，例如豆瓣小组、同一篇文章的不同作者，同一个公司工作的人等等。</li>
</ul>
<p>社交网络中用户的入度（in degree）和出度（out degree）的分布也是满足长尾分布的。无论是粉丝很多的用户还是关注人数很多的用户都很少。</p>
<h2 id="6-3-基于社交网络的推荐"><a href="#6-3-基于社交网络的推荐" class="headerlink" title="6.3 基于社交网络的推荐"></a>6.3 基于社交网络的推荐</h2><p>e.g., Amazon利用Facebook的好友信息给用户推荐好友喜欢的物品</p>
<p><strong>社会化推荐的优点：</strong></p>
<ul>
<li><strong>好友推荐可以增加推荐的信任度</strong>  同样是给用户推荐《天龙八部》，ItemCF——因为用户之前看过《射雕英雄传》，而好友推荐——因为用户有8个好友都非常喜欢《天龙八部》。第二种解释一般能让用户更加心动。</li>
<li><strong>社交网络可以解决冷启动问题</strong>  当一个新用户通过微博或者Facebook账号登录网站时，我们可以从社交网站中获取用户的好友列表，然后给用户推荐好友在网站上喜欢的物品。从而在没有用户行为记录时就给用户提供较高质量的推荐结果，部分解决了推荐系统的冷启动问题。</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>很多时候并不一定能提高推荐算法的离线精度（准确率和召回率）。特别是在基于社交图谱数据的推荐系统中，<strong>因为用户的好友关系不是基于共同兴趣产生的</strong>，所以用户好友的兴趣往往和用户的兴趣并不一致。比如，我们和自己父母的兴趣往往就差别很大。</li>
</ul>
<h3 id="6-3-1-基于邻域的社会化推荐算法"><a href="#6-3-1-基于邻域的社会化推荐算法" class="headerlink" title="6.3.1 基于邻域的社会化推荐算法"></a>6.3.1 基于邻域的社会化推荐算法</h3><p>给定一个社交网络数据集（定义了用户间的好友关系）和一份用户行为数据集（定义了用户的历史行为和兴趣数据）。最简单的算法就是给用户推荐其好友喜欢的物品集合：<br>$$<br>p_{ui}&#x3D;\sum_{v\in out(u)}r_{vi}<br>$$<br>如果用户$v$喜欢物品$i$，$r_{ui}&#x3D;1$，否则为0。考虑到用户相似度的不同，有：<br>$$<br>p_{ui}&#x3D;\sum_{v\in out(u)}w_{uv}r_{vi}<br>$$<br><strong>用户相似度$w_{uv}$由两部分构成，好友熟悉程度和兴趣相似度：</strong></p>
<ul>
<li><strong>用户间的熟悉程度</strong>  熟悉度可以用用户之间的共同好友比例衡量，即若用户$u$和$v$很熟悉，他们应该有很多共同好友。</li>
</ul>
<p>$$<br>familiarity(u,v)&#x3D;\frac{|out(u)\cap out(v)|}{|out(u)\cup out(v)|}<br>$$</p>
<ul>
<li><strong>用户间的兴趣相似度</strong>  如果两个用户喜欢的物品集合重合度很高，则他们的兴趣相似度也应该很高（类似于UserCF）</li>
</ul>
<p>$$<br>similiarity(u,v)&#x3D;\frac{|N(u)\cap N(v)|}{|N(u)\cup N(v)|}<br>$$</p>
<h3 id="6-3-2-基于图的社会化推荐算法"><a href="#6-3-2-基于图的社会化推荐算法" class="headerlink" title="6.3.2 基于图的社会化推荐算法"></a>6.3.2 基于图的社会化推荐算法</h3><p>从前几章知道，图模型可以将各种数据和关系都表示到图上去，社交网络中存在<strong>用户对物品的兴趣关系</strong>和<strong>用户间的社交网络关系</strong>。前者可表示为用户物品二分图，后者为社交网络图。</p>
<div align=center><img src="https://hicgoal-img.oss-cn-beijing.aliyuncs.com/img/image-20220414120300960.png" srcset="/img/loading.gif" lazyload alt="image-20220414120300960" style="zoom:80%;" /></div>

<p>其中用户间的权重可定义为用户相似度的$\alpha$倍（包括熟悉程度和兴趣相似度）；而用户和物品间的权重可定义为用户对物品喜欢程度的$\beta$倍。如果希望用户好友的行为对推荐结果有较大影响，可增加$\alpha$；若希望用户的历史行为更重要，增加$\beta$。</p>
<p>之后便可使用PersonalRank图排序算法给每个用户生成推荐结果。</p>
<h4 id="添加社群关系的社会化推荐算法"><a href="#添加社群关系的社会化推荐算法" class="headerlink" title="添加社群关系的社会化推荐算法"></a>添加社群关系的社会化推荐算法</h4><p>社交网络关系：</p>
<p><em>friendship：用户和用户之间直接的社交网络关系</em>（如上图的左半部分）</p>
<p><em>membership：两个用户同属于一个社群的社交网络关系</em></p>
<p>若要在上面介绍的基于邻域的社会化推荐算法中考虑membership的社交关系，<strong>可以利用两个用户加入的社区重合度计算用户相似度</strong>，然后再给用户推荐和他相似的用户喜欢的物品。这种算法的图模型如下图所示：</p>
<div align=center><img src="https://hicgoal-img.oss-cn-beijing.aliyuncs.com/img/image-20220414120312949.png" srcset="/img/loading.gif" lazyload alt="image-20220414120312949" style="zoom:67%;" /></div>

<h3 id="6-3-3-实际系统中的社会化推荐算法"><a href="#6-3-3-实际系统中的社会化推荐算法" class="headerlink" title="6.3.3 实际系统中的社会化推荐算法"></a>6.3.3 实际系统中的社会化推荐算法</h3><p>考虑6.3.1节中的$familiarity(u,v)&#x3D;\frac{|out(u)\cap out(v)|}{|out(u)\cup out(v)|}\qquad similiarity(u,v)&#x3D;\frac{|N(u)\cap N(v)|}{|N(u)\cup N(v)|}$的计算需要拿到用户所有好友的用户行为数据，目前大型网站用用户数目极大，因此不能将用户的所有行为都缓存在内存中，只能在数据库前做一个热数据的缓存。而如果我们需要比较实时的数据，这个缓存中的数据就要比较频繁地更新，因而避免不了数据库的查询。数据库查询一般是很慢的，特别是针对行为很多的用户更是如此。所以，如果一个算法再给一个用户做推荐时，需要他所有好友的历史行为数据，这在实际环境中是比较困难的。</p>
<p>ItemCF算法只需要当前用户的历史行为数据和物品的相关表就可以生成推荐结果。对于物品数不是特别多的网站，可以很容易地将物品相关表缓存在内存中，因此查询相关物品的代价很低，所以ltemCF算法很容易在实际环境下实现。</p>
<p>当然，我们可以从两个方面改进基于邻域的社会化推荐算法，让它能够具有比较快的响应时间：</p>
<ul>
<li>一种是治标不治本的方法。简单地说，就是可以做两处截断。第一处截断就是在拿用户好友集合时并不拿出用户所有的好友，而是只拿出和用户相似度最高的N个好友。此外，在查询每个用户的历史行为时，可以只返回用户最近1个月的行为，这样就可以在用户行为缓存中缓存更多用户的历史行为数据，从而加快查询用户历史行为接口的速度。此外，还可以牺牲一定的实时性，降低缓存中用户行为列表过期的频率。</li>
<li>重新设计数据库。社会化推荐中关键的操作就是拿到用户所有好友的行为数据，然后通过一定的聚合展示给用户。如果对照微博，可以发现微博中每个用户都有一个信息墙，实时展示着用户关注的所有好友的动态。因此，如果能够实现这个信息墙，就能够实现社会化推荐算法。Twitter的解决方案是给每个用户维护一个消息队列（message queue），当一个用户发表一条微博时，所有关注他的用户的消息队列中都会加入这条微博。<strong>优点</strong>：用户获取信息墙时可以直接读消息队列，所以终端用户的读操作很快。<strong>缺点</strong>：当一个用户发表了一条微博，就会触发很多写操作，因为要更新所有关注他的用户的消息队列，特别是当一个人被很多人关注时，就会有大量的写操作。Twitter通过大量的缓存解决了这一问题。具体的细节可以参考<a target="_blank" rel="noopener" href="https://www.infoq.com/news/2009/06/Twitter-Architecture/">InfoQ对Twitter架构的介绍</a>。</li>
</ul>
<p>如果将Twitter的架构搬到社会化推荐系统中，我们就可以按照如下方式设计系统：</p>
<ul>
<li>首先，为每个用户维护一个消息队列，用于存储他的推荐列表；</li>
<li>当一个用户喜欢一个物品时，就将（物品ID、用户ID和时间）这条记录写入关注该用户的推荐列表消息队列中；</li>
<li>当用户访问推荐系统时，读出他的推荐列表消息队列，对于这个消息队列中的每个物品，重新计算该物品的权重。计算权重时需要考虑物品在队列中出现的次数，物品对应的用户和当前用户的熟悉程度、物品的时间戳。同时，计算出每个物品被哪些好友喜欢过，用这些好友作为物品的推荐解释。</li>
</ul>
<h3 id="6-3-4-社会化推荐系统和协同过滤推荐系统"><a href="#6-3-4-社会化推荐系统和协同过滤推荐系统" class="headerlink" title="6.3.4 社会化推荐系统和协同过滤推荐系统"></a>6.3.4 社会化推荐系统和协同过滤推荐系统</h3><p>社会化推荐系统的效果往往很难通过离线实验评测，因为社会化推荐的优势不在于增加预测准确度，而是在于通过用户的好友增加用户对推荐结果的信任度，从而让用户单击那些很冷门的推荐结果。此外，很多社交网站（特别是基于社交图谱的社交网站）中具有好友关系的用户并不一定有相似的兴趣。因此，利用好友关系有时并不能增加离线评测的准确率和召回率。因此，很多研究人员利用用户调查和在线实验的方式评测社会化推荐系统。</p>
<h3 id="6-3-5-信息流推荐"><a href="#6-3-5-信息流推荐" class="headerlink" title="6.3.5 信息流推荐"></a>6.3.5 信息流推荐</h3><p>信息流的个性化推荐要解决的问题就是如何进一步帮助用户从信息墙上挑选有用的信息。Facebook的EdgeRank算法综合考虑了信息流中每个会话的时间、长度与用户兴趣的相似度。EdgeRank算法比较神秘，没有相关的论文，不过<a target="_blank" rel="noopener" href="https://techcrunch.com/2010/04/22/facebook-edgerank/">TechCrunch曾经公开过它的主要思想</a>。Facebook将<strong>其他用户对当前用户信息流中的会话产生过行为的行为称为edge</strong>，而一条会话的权重定义为：<br>$$<br>\sum_{edge\ e}u_ew_ed_e\u_e指产生行为的用户和当前用户的相似度，这里的相似度主要是在社交网络图中的熟悉度\</p>
<p>w_e指行为的权重，这里的行为包括创建、评论、like（喜欢）、打标签等，不同的行为有不同的权重\</p>
<p>d_e指时间衰减参数，越早的行为对权重的影响越低<br>$$<br>从上面的描述中可以得出如下结论：如果一个会话被你<strong>熟悉的</strong>好友<strong>最近</strong>产生过<strong>重要的</strong>行为，它就会有比较高的权重。</p>
<p>不过，EdgeRank算法的个性化因素仅仅是好友的熟悉度，它并没有考虑帖子内容和用户兴趣的相似度。所以EdgeRank仅仅考虑了“我”周围用户的社会化兴趣，而没有重视“我”个人的个性化兴趣。为此人们深入研究了信息流推荐中社会兴趣和个性化兴趣之间的<a target="_blank" rel="noopener" href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.294.8471&rep=rep1&type=pdf">关系</a>。他们的排名算法考虑了如下因素：</p>
<ul>
<li><strong>会话的长度</strong>  越长的会话包括越多的信息。</li>
<li><strong>话题相关性</strong>  度量了会话中主要话题和用户兴趣之间的相关性。这里用了简单的TF-IDF建立用户历史兴趣的关键词向量和当前会话的关键词向量，然后用这两个向量的相似度度量话题相关性。</li>
<li><strong>用户熟悉程度</strong>  主要度量了会话中涉及的用户（比如会话的创建者、讨论者等）和当前用户的熟悉程度。对于如何度量用户的熟悉程度下一节将详细介绍。计算熟悉度的主要思想是考虑用户之间的共同好友数等。</li>
</ul>
<h2 id="6-4-给用户推荐好友"><a href="#6-4-给用户推荐好友" class="headerlink" title="6.4 给用户推荐好友"></a>6.4 给用户推荐好友</h2><p>如果用户的好友很稀少，就不能体验到社会化的好处。因此好友推荐是社会化网站的重要应用之一。<strong>好友推荐系统的目的是</strong>根据用户现有的好友、用户的行为记录<strong>给用户推荐新的好友</strong>，从而增加整个社交网络的稠密程度和社交网站用户的活跃度。</p>
<h3 id="6-4-1-基于内容的匹配"><a href="#6-4-1-基于内容的匹配" class="headerlink" title="6.4.1 基于内容的匹配"></a>6.4.1 基于内容的匹配</h3><p>给用户推荐和他们有<strong>相似内容属性</strong>的用户做为好友，常见的内容属性有：</p>
<ul>
<li>用户人口统计学属性  包括年龄、性别、职业、毕业学校、工作单位等</li>
<li>用户的兴趣  如用户喜欢的物品和发布过的言论等</li>
<li>用户的位置信息  包括用户的住址、IP地址和邮编等</li>
</ul>
<h3 id="6-4-2-基于共同兴趣的的好友推荐-InterestBased"><a href="#6-4-2-基于共同兴趣的的好友推荐-InterestBased" class="headerlink" title="6.4.2 基于共同兴趣的的好友推荐(InterestBased)"></a>6.4.2 基于共同兴趣的的好友推荐(InterestBased)</h3><p>在Twitter和微博为代表的以兴趣图谱为主的社交网络中，用户往往不关心对于一个人是否在现实社会中认识，而只关心是否和他们有<strong>共同的兴趣爱好</strong>。因此，在这种网站中需要给用户推荐和他有共同兴趣的其他用户作为好友。<br>基于用户的协同过滤算法（UserCF）介绍了如何计算用户之间的兴趣相似度，其主要思想就是如果用户喜欢相同的物品，则说明他们具有相似的兴趣。在新浪微博中，可以将微博看做物品，如果两个用户曾经评论或者转发同样的微博，说明他们具有相似的兴趣。在Facebook中，因为有大量用户Like（喜欢）的数据，所以更容易用UserCF算法计算用户的兴趣相似度。关于这方面的算法可以参考<a target="_blank" rel="noopener" href="http://hiccgoal.space/2022/04/07/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B5%EF%BC%88%E9%A1%B9%E4%BA%AE%EF%BC%89%E7%AC%AC%E4%B8%89%E7%AB%A0/">第3章</a>。<br>此外，也可以根据用户在社交网络中的发言提取用户的兴趣标签，来计算用户的兴趣相似度。关于如何分析用户发言的内容、提取文本的关键词、计算文本的相似度，可以参考<a target="_blank" rel="noopener" href="http://hiccgoal.space/2022/04/07/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B5%EF%BC%88%E9%A1%B9%E4%BA%AE%EF%BC%89%E7%AC%AC%E5%9B%9B%E7%AB%A0/">第4章</a>。</p>
<h3 id="6-4-3-基于社交网络图的好友推荐-SocialBased"><a href="#6-4-3-基于社交网络图的好友推荐-SocialBased" class="headerlink" title="6.4.3 基于社交网络图的好友推荐(SocialBased)"></a>6.4.3 基于社交网络图的好友推荐(SocialBased)</h3><p>在社交网站中，我们会获得用户之间现有的社交网络图，然后可以基于现有的社交网络给用户推荐新的好友，比如可以给用户推荐<strong>好友的好友</strong>。</p>
<p>对于用户$u$和用户$v$，介绍三种基于社交网络的好友推荐算法：</p>
<ul>
<li>用共同好友比例计算它们的相似度：</li>
</ul>
<p>$$<br>w_{out}(u,v)&#x3D;\frac{|out(u)\cap out(v)|}{\sqrt{|out(u)|| out(v)|}}<br>$$<br>表示用户$u$和$v$关注的用户集合重合度</p>
<ul>
<li>在微博这种有向社交网络中，$out(v)$和$in(v)$是不同的集合:</li>
</ul>
<p>$$<br>w_{in}(u,v)&#x3D;\frac{|in(u)\cap in(v)|}{\sqrt{|in(u)|| in(v)|}}<br>$$<br>表示关注用户$u$的用户和关注用户$v$的用户的集合重合度</p>
<p>以上两种相似度都是对称的，即$w(u,v)&#x3D;w(v,u)$</p>
<ul>
<li>还可定义第三种有向的相似度：</li>
</ul>
<p>$$<br>w_{out,in}(u,v)&#x3D;\frac{|out(u)\cap in(v)| }{|out(u)|}<br>$$<br>在用户$u$关注的用户中，有多大比例也关注了用户$v$</p>
<p>考虑到$v$是名人时，任何用户都和他的相似度很大，因此：<br>$$<br>w_{out,in}’(u,v)&#x3D;\frac{|out(u)\cap in(v)| }{\sqrt{|out(u)||in(v)|}}<br>$$<br>这三种相似度计算的时间&#x2F;空间复杂度都不高，适合在线应用使用。</p>
<h4 id="离线实验"><a href="#离线实验" class="headerlink" title="离线实验"></a>离线实验</h4><p><a target="_blank" rel="noopener" href="https://github.com/hiccgoal/RecommendSystemPractice/blob/master/Chapter6/%E4%B8%BA%E7%94%A8%E6%88%B7%E6%8E%A8%E8%8D%90%E5%A5%BD%E5%8F%8B.ipynb">代码</a></p>
<p><a target="_blank" rel="noopener" href="http://snap.stanford.edu/data/soc-Slashdot0902.txt.gz">数据集Slashdot</a></p>
<p><a target="_blank" rel="noopener" href="http://snap.stanford.edu/data/soc-Epinions1.txt.gz">数据集Epinion</a></p>
<h3 id="6-4-4-基于用户调查的好友推荐算法对比"><a href="#6-4-4-基于用户调查的好友推荐算法对比" class="headerlink" title="6.4.4 基于用户调查的好友推荐算法对比"></a>6.4.4 基于用户调查的好友推荐算法对比</h3><p>对比了新颖性、设计了一些问卷进行对比，略</p>
<h2 id="6-5-总结"><a href="#6-5-总结" class="headerlink" title="6.5 总结"></a>6.5 总结</h2><p>(实在不想写这些冗余的东西，架不住强迫症)</p>
<p>社交网络分析的研究已经有很悠久的历史了。其中关于社交网络最让人耳熟能详的结论就是六度原理。如果转化为图的术语，就是社交网络图的直径为6。六度原理在均匀随机图上已经得到了完美证明，可以参考RandomGraph一书。很多对社交网络的研究都是基于随机图理论的，因此深入研究社交网络必须掌握随机图理论的相关知识。<br>社交网络研究中有两个最著名的问题。第一个是如何度量人的重要性，也就是社交网络顶点的中心度（centrality），第二个问题是如何度量社交网络中人和人之间的关系，也就是链接预测。可以参考社交网络分析方面的书。e.g.,<em>《Social Nework Analysis: Methods and Applicaions》《Social Nework Anaysis: A Handook》</em><br>对于基于社交网络的推荐算法，因为数据集的限制，最早的研究都是基于Epinion的用户信任网络的。<a target="_blank" rel="noopener" href="http://www.cse.cuhk.edu.hk/~king/PUB/CIKM08_Ma1.pdf">MaHao</a>在Epinion数据集上提出了很多基于矩阵分解的社会化推荐算法用来解决评分预测问题，其主要思想是在矩阵分解模型中加入正则化项，让具有社交关系的用户的隐语义向量具有比较高的相似度。</p>
<p>ACM推荐系统大会在2010年曾经举办过一个社会化推荐比赛”，该比赛将社交网络看做一种上下文，希望参赛者能够利用社交网络信息提高推荐系统的性能。关注社交化推荐的读者可以关注一下该比赛最后发出的<a target="_blank" rel="noopener" href="https://shlomo-berkovsky.github.io/files/pdf/RecSys10d.pdf">论文集</a>（可能比较老了，是书中推荐的）。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">推荐系统</a>
                    
                      <a class="hover-with-bg" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/15/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B5%EF%BC%88%E9%A1%B9%E4%BA%AE%EF%BC%89%E7%AC%AC%E4%B8%83%E7%AB%A0/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">推荐系统实践（项亮）第七章</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/11/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B5%EF%BC%88%E9%A1%B9%E4%BA%AE%EF%BC%89%E7%AC%AC%E4%BA%94%E7%AB%A0/">
                        <span class="hidden-mobile">推荐系统实践（项亮）第五章</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
